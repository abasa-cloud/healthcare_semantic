version: 2 

metrics:
#=============#
# BASE METRIC #
#=============#
  - name: total_count_patient
    description: "Total count of patients"
    type: simple
    label: Total patient count
    type_params:
      measure:
        name: total_count_patient
        fill_nulls_with: 0 
        join_to_timespine: true

  - name: total_churn_patient
    description: "Total count of churn patients"
    type: simple
    label: Total churn patient count
    type_params:
      measure:
        name: total_churn_patient
        fill_nulls_with: 0 
        join_to_timespine: true 


#==============#
# RATIO METRIC #
#==============#

#RATIO METRIC TO CALCULATE CHURN RATE

  - name: churn_rate
    label: Cases per Truck
    type: ratio
    description: Metric to compute churn_rate.
    type_params:
      numerator:
        name: total_churn_patient
      denominator: 
        name: total_count_patient
